<!DOCTYPE html>
<html>
    <head>
        <title>Start Page</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style>
            label {
                width: 100px;
                display: inline-table;
            }
        </style>
    </head>
    <body ng-app="endereco">
      <ng-view />

      <script type="text/ng-template" id="endereco-list.html">

        <h1>{{title}}</h1>
        <table>
            <tr>
                <th>Rua</th>
                <th>Numero</th>
                <th>Bairro</th>
                <th>Complemento</th>
                <th>CEP</th>
                <th>Cidade</th>
                <th>Estado</th>
                <th></th>
            </tr>
            <tr ng-repeat="item in list">
                <td>{{item.rua}}</td>
                <td>{{item.numero}}</td>
                <td>{{item.bairro}}</td>
                <td>{{item.complemento}}</td>
                <td>{{item.cep}}</td>
                <td>{{item.cidade}}</td>
                <td>{{item.estado}}</td>
                <td><a href="#/" ng-click='delete(item.id)'>Apagar</a></td>
                <td><a href="#/{{item.id}}" >Editar</a></td>
            </tr>
        </table>
        <a ng-href="#/new" ng-click='delete(item.id)'>Novo</a>
      </script>

      <script type="text/ng-template" id="endereco-edit.html">
        <h1>{{title}}</h1>

        <form name="enderecoForm" ng-submit="submit()" class="css-form">
            <span ng-show="enderecoForm.$error.serverMessage" style="color:red">{{enderecoForm.$error.serverMessage}}</span>
            <div>
                <label for="cep">Cep</label>
                <input name="cep" type="text" ng-model="item.cep" required ng-minlength="8" ng-maxlength="8"/>
                <span ng-if="enderecoForm.cep.$error.required" style="color:red">
                    Obrigatório
                </span>
                <span ng-if="enderecoForm.cep.$error.minlength" style="color:red">
                    Mínimo 8 digitos
                </span>
                <span ng-if="enderecoForm.cep.$error.maxlength" style="color:red">
                    Máximo 8 digitos
                </span>
            </div>
            <div>
                <label for="rua">Rua</label>
                <input name="rua" type="text" ng-model="item.rua" required />
                <span ng-if="enderecoForm.rua.$error.required" style="color:red">
                    Obrigatório
                </span>
            </div>
            <div>
                <label for="numero">Número</label>
                <input name="numero" type="number" ng-model="item.numero" required />
                <span ng-if="enderecoForm.numero.$error.required" style="color:red">
                    Obrigatório
                </span>
            </div>
            <div>
                <label for="bairro">Bairro</label>
                <input name="bairro" type="text" ng-model="item.bairro" />
            </div>
            <div>
                <label for="complemento">Complemento</label>
                <input name="complemento" type="text" ng-model="item.complemento" />
            </div>
            <div>
                <label for="cidade">Cidade</label>
                <input name="cidade" type="text" ng-model="item.cidade" required />
                <span ng-if="enderecoForm.cidade.$error.required" style="color:red">
                    Obrigatório
                </span>
            </div>
            <div>
                <label for="estado">Estado</label>
                <input name="estado" type="text" ng-model="item.estado" required ng-minlength="2" />
                <span ng-if="enderecoForm.estado.$error.required" style="color:red">
                    Obrigatório
                </span>
                <span ng-if="enderecoForm.estado.$error.minlength" style="color:red">
                    Mínimo 2 digitos
                </span>
                <span ng-if="enderecoForm.estado.$error.maxlength" style="color:red">
                    Máximo 2 digitos
                </span>
            </div>
            <input type="submit" id="submit" value="Salvar" />
        </form>
        <td><a href="#/" >Voltar</a></td>
      </script>

      <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.js"></script>
      <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-route.js"></script>
      <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-messages.js"></script>
      <script src="js/app.js"></script>
    </body>
</html>
